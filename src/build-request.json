{
  "kind": "build_request",
  "title": "Enable data transfer between sharing links via Admin export/import",
  "projectName": "Maspar Sales Portal",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-53",
      "text": "Add an Admin \"Data Transfer\" section that lets an admin export (download) all locally-stored portal data (catalog items + New Arrivals banner) as a single JSON file, using clear English UI text.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "aBHI bHI dATA sHARING Link Pe Nahi Dikh Raha Hai"
        ]
      },
      "acceptanceCriteria": [
        "Admin page shows a new \"Data Transfer\" (or equivalent) card/section.",
        "Clicking \"Export\" downloads a JSON file containing the current catalog (from localStorage key `maspar_catalog`) and banner (from localStorage key `maspar_new_arrivals_banner`).",
        "Export works even when either catalog is empty or banner is not set (file still downloads with empty/null values).",
        "All user-facing text in this section is English-only and consistent with existing UI style (glassmorphism cards, theme tokens)."
      ]
    },
    {
      "id": "REQ-54",
      "text": "Add an Admin import flow that allows uploading a previously exported JSON file and restores the catalog + banner into LocalStorage, then refreshes the UI so the Public Viewer on the same link immediately shows the imported data without a hard refresh.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "aBHI bHI dATA sHARING Link Pe Nahi Dikh Raha Hai"
        ]
      },
      "acceptanceCriteria": [
        "Admin can select an exported JSON file and click \"Import\" (or equivalent) to restore data.",
        "After import completes, the Admin catalog table updates to show imported items and the Public Viewer updates to show imported items and the banner (if present) without requiring a full page reload.",
        "Import validates JSON shape safely: if the file is invalid/unparseable, show a clear English error message and do not overwrite existing data.",
        "Imported catalog items are passed through existing sanitization/migration behavior (e.g., legacy label objects, mediaType normalization) so the viewer does not break on older exports.",
        "Importing banner data uses the existing banner sync mechanism so the banner reliably appears when set.",
        "Provide an explicit confirmation prompt before overwriting current LocalStorage data (English-only)."
      ]
    },
    {
      "id": "REQ-55",
      "text": "Update the Admin storage notice/help text to include a short, clear instruction that data will not sync across different links/domains/devices and that \"Export/Import\" is the supported way to move data to another sharing link.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "aBHI bHI dATA sHARING Link Pe Nahi Dikh Raha Hai"
        ]
      },
      "acceptanceCriteria": [
        "Admin notice remains English-only and explicitly mentions that different sharing links can have different LocalStorage, so data may not appear automatically.",
        "The notice mentions the new Export/Import option as the workaround to move data.",
        "No Hindi text appears anywhere in the updated notice/UI copy."
      ]
    }
  ],
  "constraints": [
    "Do not add any external database or server-side persistence; the backend is an empty single Motoko actor and should remain unchanged for this request.",
    "Do not edit files under frontend/src/components/ui or any paths listed in frontend.immutablePaths.",
    "Keep all user-facing UI text in English.",
    "Use the existing LocalStorage keys (`maspar_catalog`, `maspar_new_arrivals_banner`) and existing in-app sync patterns (custom events + storage event) to refresh UI."
  ],
  "nonGoals": [
    "Do not implement automatic cross-domain/cross-link syncing of LocalStorage data.",
    "Do not add user accounts or Internet Identity-based per-user cloud storage.",
    "Do not change the catalog data model beyond what is required for safe import validation/sanitization."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}